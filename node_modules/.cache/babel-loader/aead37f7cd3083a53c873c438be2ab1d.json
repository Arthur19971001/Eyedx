{"ast":null,"code":"var _jsxFileName = \"/Users/kimseongjae/source/eyeDX/src/pages/home/interpretation/interpretation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport \"./interpretation.css\";\nimport ImageZoom from '../../../components/image_zoom/image_zoom';\nimport * as actions from '../../../actions/interpretation/interpretation_data';\nimport { connect } from 'react-redux';\nimport { DarkCheckBox } from '../../../components/parts/check_box/check_box';\nimport { NormalDarkButton, CustomDarkButton, ToggleButton } from '../../../components/parts/button/button';\nimport { InitDataModel } from \"./initModel\";\nimport { Loader } from \"../../../components/loader/loader\";\nimport { baseUrl } from '../../../actions/api';\nimport Lock from \"../../../components/parts/lock/lock\";\nimport { useHistory, useParams } from 'react-router';\nimport { useCookies } from 'react-cookie';\nimport { CustomDotInputSlider } from '../../../components/parts/input_range/input_range';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst isClickTypeModel = {\n  isPhotoClicked: true,\n  isReportClicked: false\n};\nconst isProgramModel = {\n  isEye: true,\n  isDiabetic: false\n};\nconst statusModel = {\n  msg: \"Send & Report\",\n  isHold: false\n};\nconst marks = {\n  '1': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Worst\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 11\n  }, this),\n  '2': 'Bad',\n  '3': 'Good',\n  '4': 'Great',\n  '5': 'Perfect'\n};\n\nconst Interpretation = props => {\n  _s();\n\n  const [isSelected, setIsSelected] = useState(true);\n  const [isTypeClick, setIsTypClick] = useState(isClickTypeModel);\n  const [isProgram, setIsProgram] = useState(isProgramModel);\n  const [initData, setInitData] = useState(InitDataModel);\n  const [comment, setCommnet] = useState(\"\");\n  const stirngToObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n  const year = localStorage.getItem(\"filter-value\") !== null ? stirngToObj.lang === \"kr\" ? \"년\" : \"year\" : localStorage.getItem(\"lang\") === \"kr\" ? \"년\" : \"year\";\n  const [status, setStatus] = useState(statusModel);\n  const [eyeOD, setEyeOD] = useState(InitDataModel.items[0].parts.od);\n  const [eyeOS, setEyeOS] = useState(InitDataModel.items[0].parts.os);\n  const [diabeticOD, setDiabeticOD] = useState(InitDataModel.items[1].parts.od);\n  const [diabeticOS, setDiabeticOS] = useState(InitDataModel.items[1].parts.os);\n  const [showImgQuality, setShowImgQuality] = useState(false);\n  const [cookies] = useCookies(['token']);\n  const history = useHistory();\n  const userId = useParams();\n  const queryObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n\n  const errorStatus = () => {\n    /// 데이터가 없는데 interpretation page 로 접속할 경우 생기는 에러메세지 산출\n    if (localStorage.getItem(\"lang\") === \"kr\") {\n      localStorage.setItem(\"error_data\", \"환자의 데이터가 존재하지 않습니다.\");\n      localStorage.setItem(\"error_value\", \"true\");\n    } else {\n      localStorage.setItem(\"error_data\", \"Patient data does not exist.\");\n      localStorage.setItem(\"error_value\", \"true\");\n    }\n\n    history.goBack();\n  };\n\n  useLayoutEffect(() => {\n    setInitData(InitDataModel);\n\n    try {\n      if (userId.userId === \":userId\") {\n        /// 주소창에 /interpretation 이라고 치고 들어올경우\n        errorStatus();\n      } else {\n        /// waiting page 에서 interpretation button 을 눌고 들어올경우\n        if (localStorage.getItem(\"first_code\") === \"\") {\n          /// waiting list 에 데이터가 없음\n          errorStatus();\n        } else {\n          /// 성공적으로 데이터 불러오기\n          props.getInterpretationData(userId.userId, queryObj, cookies.token.access_token);\n        }\n      }\n    } catch (error) {\n      errorStatus();\n    }\n  }, [userId.userId]);\n  useEffect(() => {\n    try {\n      if (props.interpretationData !== undefined && Object.keys(props.interpretationData).length !== 0) {\n        setInitData(props.interpretationData);\n\n        if (props.interpretationData.status === \"Hold\") {\n          setStatus({ ...status,\n            msg: \"Hold\",\n            isHold: true\n          });\n        } else {\n          setStatus({ ...status,\n            msg: \"Send & Report\",\n            isHold: false\n          });\n        }\n\n        if (props.interpretationData.items.length === 1) {\n          if (props.interpretationData.items[0].code !== \"edp\") {\n            setIsProgram({\n              \"isEye\": false,\n              \"isDiabetic\": true\n            });\n            setEyeOD(props.interpretationData.items[0].parts.od);\n            setEyeOS(props.interpretationData.items[0].parts.os);\n          } else {\n            setIsProgram({\n              \"isEye\": true,\n              \"isDiabetic\": false\n            });\n            setDiabeticOD(props.interpretationData.items[0].parts.od);\n            setDiabeticOS(props.interpretationData.items[0].parts.os);\n          }\n        } else {\n          setIsProgram({\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n          setEyeOD(props.interpretationData.items[0].parts.od);\n          setEyeOS(props.interpretationData.items[0].parts.os);\n          setDiabeticOD(props.interpretationData.items[1].parts.od);\n          setDiabeticOS(props.interpretationData.items[1].parts.os);\n        }\n\n        if (props.interpretationData.shot.od === \"\") {\n          setIsSelected(false);\n        } else if (props.interpretationData.shot.os === \"\") {\n          setIsSelected(true);\n        } else {\n          setIsSelected(true);\n        }\n\n        setCommnet(props.interpretationData.comment);\n      }\n    } catch (e) {\n      errorStatus();\n    }\n  }, [props.interpretationData._id]);\n\n  const handleHoldImg = () => {\n    status.isHold ? setStatus(statusModel) : setStatus({ ...status,\n      msg: \"Hold\",\n      isHold: true\n    });\n  };\n\n  const handleComment = e => {\n    setCommnet(e.target.value);\n  };\n\n  const handleImgChange = value => {\n    if (initData.items.length === 2 && isProgram.isDiabetic) {\n      setIsProgram({ ...isProgram,\n        \"isEye\": true,\n        \"isDiabetic\": false\n      });\n    } else {\n      if (initData.items.length === 1) {\n        if (initData.items[0].code === \"edp\") {\n          setIsProgram({ ...isProgram,\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n        } else {\n          setIsProgram({ ...isProgram,\n            \"isEye\": false,\n            \"isDiabetic\": true\n          });\n        }\n      }\n    }\n\n    switch (value) {\n      case \"od\":\n        if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n          setIsSelected(true);\n        }\n\n        break;\n\n      case \"os\":\n        if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n          setIsSelected(false);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleTypeButtonChange = value => {\n    switch (value) {\n      case \"photo\":\n        setIsTypClick({ ...isTypeClick,\n          \"isPhotoClicked\": true,\n          \"isReportClicked\": false\n        });\n        break;\n\n      case \"report\":\n        setIsTypClick({ ...isTypeClick,\n          \"isPhotoClicked\": false,\n          \"isReportClicked\": true\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleToggleButton = () => {\n    if (initData.items.length === 2 && isProgram.isDiabetic) {\n      setIsProgram({ ...isProgram,\n        \"isEye\": true,\n        \"isDiabetic\": false\n      });\n    } else {\n      if (initData.items.length === 1) {\n        if (initData.items[0].code === \"edp\") {\n          setIsProgram({ ...isProgram,\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n        } else {\n          setIsProgram({ ...isProgram,\n            \"isEye\": false,\n            \"isDiabetic\": true\n          });\n        }\n      }\n    }\n\n    if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n      if (isSelected) {\n        setIsSelected(false);\n      } else {\n        setIsSelected(true);\n      }\n    }\n  };\n\n  const handleProgramButton = value => {\n    switch (value) {\n      case \"edp\":\n        setIsProgram({ ...isProgram,\n          \"isEye\": true,\n          \"isDiabetic\": false\n        });\n        break;\n\n      case \"dr\":\n        setIsProgram({ ...isProgram,\n          \"isEye\": false,\n          \"isDiabetic\": true\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleChangeChecked = (i, j, code) => {\n    let tempList;\n\n    if (isProgram.isEye) {\n      if (isSelected) {\n        tempList = eyeOD[i].checked;\n\n        switch (code) {\n          case \"retinal_abnormality\":\n            if (eyeOD[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                \"checked\": tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 7) {\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  \"checked\": [false, false, false, false, false, false, false, true]\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(7, 1, false);\n                tempList.splice(j, 1, true);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  \"checked\": tempList\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          case \"media_abnormality\":\n            if (eyeOD[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 1) {\n                tempList.splice(0, 2, false, true);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 2, true, false);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          case \"optic_nerve_abnormality\":\n            if (eyeOD[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 1) {\n                tempList.splice(0, 2, false, true);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 2, true, false);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      } else {\n        tempList = eyeOS[i].checked;\n\n        switch (code) {\n          case \"retinal_abnormality\":\n            if (eyeOS[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 7) {\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: [false, false, false, false, false, false, false, true]\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(7, 1, false);\n                tempList.splice(j, 1, true);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          case \"media_abnormality\":\n            if (eyeOS[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 1) {\n                tempList.splice(0, 2, false, true);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: eyeOS[i].checked.splice(0, 2, false, true)\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 2, true, false);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: eyeOS[i].checked.splice(0, 2, true, false)\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          case \"optic_nerve_abnormality\":\n            if (eyeOS[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              if (j === 1) {\n                tempList.splice(0, 2, false, true);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 2, true, false);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    } else if (isProgram.isDiabetic) {\n      if (isSelected) {\n        tempList = diabeticOD[i].checked;\n\n        switch (code) {\n          case \"diabetic_retinopathy\":\n            if (diabeticOD[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              tempList.splice(0, 5, false, false, false, false, false); //tempList = [false,false,false,false,false]\n\n              tempList.splice(j, 1, true);\n              setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                cchecked: tempList\n              } : { ...value\n              }));\n            }\n\n            break;\n\n          case \"csme_suspicion\":\n            if (diabeticOD[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              tempList.splice(j, 1, true);\n              setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                cchecked: tempList\n              } : { ...value\n              }));\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      } else {\n        tempList = diabeticOS[i].checked;\n\n        switch (code) {\n          case \"diabetic_retinopathy\":\n            if (diabeticOS[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              tempList.splice(0, 5, false, false, false, false, false);\n              tempList.splice(j, 1, true);\n              setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                cchecked: tempList\n              } : { ...value\n              }));\n            }\n\n            break;\n\n          case \"csme_suspicion\":\n            if (diabeticOS[i].checked[j]) {\n              tempList.splice(j, 1, false);\n              setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                checked: tempList\n              } : { ...value\n              }));\n            } else {\n              tempList.splice(j, 1, true);\n              setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                cchecked: tempList\n              } : { ...value\n              }));\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n  };\n\n  const sendDataType = () => {\n    const edp = {\n      code: \"edp\",\n      name: \"Eye Disease Presence\",\n      parts: {\n        od: eyeOD,\n        os: eyeOS\n      }\n    };\n    const dr = {\n      code: \"dr\",\n      name: \"Diabetic Retinopathy\",\n      parts: {\n        od: diabeticOD,\n        os: diabeticOS\n      }\n    };\n    const body = {\n      lang: localStorage.getItem(\"lang\"),\n      status: status.isHold ? 50 : 100,\n      comment: comment,\n      programs: [edp, dr]\n    };\n    props.sendInterpretationData(localStorage.getItem(\"first_code\"), body, cookies.token.access_token, onSuccessful);\n    setCommnet(\"\");\n    setShowImgQuality(false);\n  };\n\n  const onSuccessful = userID => {\n    localStorage.setItem(\"first_code\", userID);\n    let url = \"/interpretation/\" + localStorage.getItem(\"first_code\");\n    history.replace(url);\n  };\n\n  const handleSendData = () => {\n    if (initData.isVote) {\n      sendDataType();\n    } else {\n      setShowImgQuality(true);\n    }\n  };\n\n  const handleRetake = () => {\n    const body = {\n      lang: localStorage.getItem(\"lang\"),\n      status: 200\n    };\n    props.sendInterpretationData(localStorage.getItem(\"first_code\"), body, cookies.token.access_token, onSuccessful);\n    setCommnet(\"\");\n    setShowImgQuality(false);\n  };\n\n  const handleImageScoreSend = () => {\n    const params = {\n      start: 1,\n      ns: 0\n    };\n    props.sendImageQulityData(localStorage.getItem(\"first_code\"), params, cookies.token.access_token, nextRequest);\n  };\n\n  const nextRequest = result => {\n    if (result === \"ok\") {\n      sendDataType();\n    } else {\n      setShowImgQuality(true);\n    }\n  };\n\n  const programData = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"check_list_div\",\n    children: isProgram.isEye ? isSelected ? eyeOD.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 70\n        }, this)\n      }, j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 25\n    }, this)) : eyeOS.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 70\n        }, this)\n      }, j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 25\n    }, this)) : isSelected ? diabeticOD.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 70\n        }, this)\n      }, j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 25\n    }, this)) : diabeticOS.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 71\n        }, this)\n      }, j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 25\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 637,\n    columnNumber: 9\n  }, this);\n\n  const programList = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inspect_list_div\",\n    children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n      isRight: isSelected,\n      onClick: handleToggleButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"patient_info_title_span\",\n      children: \"Program\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 13\n    }, this), initData.items.map((item, i) => /*#__PURE__*/_jsxDEV(NormalDarkButton, {\n      width: \"100%\",\n      isActive: item.code === \"edp\" ? isProgram.isEye : isProgram.isDiabetic,\n      title: item.name,\n      onClick: () => handleProgramButton(item.code)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 17\n    }, this)), programData]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 670,\n    columnNumber: 9\n  }, this);\n\n  const interpretationList = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interpretation_list_div\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inspect_header_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inspect_date_div\",\n          children: [/*#__PURE__*/_jsxDEV(Lock, {\n            onClick: handleHoldImg,\n            isHold: status.isHold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inspect_date_span\",\n            children: initData.interpretationDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inspect_date_span\",\n          children: \"Remaing list: \" + initData.remainCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_title_span\",\n          children: \"Patient Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type_button_div\",\n          children: /*#__PURE__*/_jsxDEV(NormalDarkButton, {\n            isActive: isTypeClick.isPhotoClicked,\n            title: \"Photo\",\n            width: \"318px\",\n            onClick: () => handleTypeButtonChange(\"photo\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"B/D : \", initData.birthday]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"Basal disease : \", initData.basalDisease === null ? \"none\" : initData.basalDisease.map((title, k) => /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [title + year, initData.basalDisease.length - 1 === k ? \"\" : \" / \"]\n          }, k, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"Race : \", initData.race]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 13\n    }, this), programList, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom_submit_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_title_span\",\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"comment_textarea\",\n          placeholder: \"...entering\",\n          rows: \"4\",\n          value: comment,\n          onChange: e => handleComment(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sumbit_button_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type_button_div\",\n        children: [/*#__PURE__*/_jsxDEV(NormalDarkButton, {\n          isActive: false,\n          title: \"Retake\",\n          width: \"150px\",\n          onClick: handleRetake\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CustomDarkButton, {\n          title: status.msg,\n          width: \"150px\",\n          onClick: handleSendData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 681,\n    columnNumber: 9\n  }, this);\n\n  const image_quality = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'interpretation_image_quality_QHD' // style = {{visibility:`${showImgQuality ? \"visible\" : \"hidden\"}`}}\n    ,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'interpretation_image_quality_body_QHD',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_content_QHD\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'bold18white interpretation_image_quality_content_header_QHD',\n          children: \"How was the image quality?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'normal18FirGray interpretation_image_quality_content_normal_QHD',\n          children: [\"The following surveys are used as data to\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'bold18white',\n            children: \"improve the quality of images.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 143\n          }, this), \" Thank you for your valuable comments.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_slider_QHD\",\n        children: /*#__PURE__*/_jsxDEV(CustomDotInputSlider, {\n          min: 1,\n          max: 5,\n          onChange: value => console.log(value),\n          marks: marks,\n          value: \"worst\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_check_QHD\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: \"no seen for 5 days\",\n          checked: false,\n          onChange: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 721,\n    columnNumber: 9\n  }, this);\n\n  const interpretation_body = /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    children: [image_quality, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'interpretation_body_QHD',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleImgChange(\"od\"),\n        className: isSelected ? 'interpretation_photo_click' : 'interpretation_photo',\n        children: /*#__PURE__*/_jsxDEV(ImageZoom, {\n          src: initData.shot.od === \"init\" ? \"\" : initData.shot.od === \"\" ? \"none\" : baseUrl + initData.shot.od,\n          id: initData._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleImgChange(\"os\"),\n        className: isSelected === false ? 'interpretation_photo_click' : 'interpretation_photo',\n        children: /*#__PURE__*/_jsxDEV(ImageZoom, {\n          src: initData.shot.os === \"init\" ? \"\" : initData.shot.os === \"\" ? \"none\" : baseUrl + initData.shot.os,\n          id: initData._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'interpretation_list_QHD',\n        children: interpretationList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 746,\n    columnNumber: 9\n  }, this);\n\n  const data_loading = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading_div\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading_content_div\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 763,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: props.isDataLoading ? data_loading : interpretation_body\n  }, void 0, false);\n};\n\n_s(Interpretation, \"YuCF62cDXvgH89w8NX67s3HKG3Y=\", false, function () {\n  return [useCookies, useHistory, useParams];\n});\n\n_c = Interpretation;\n\nconst mapStateToProps = state => ({\n  isDataLoading: state.LoaderReducer.isDataLoading,\n  interpretationData: state.InterpretationDataReducer.interpretationData\n});\n\nconst mapDispatchToProps = {\n  getInterpretationData: actions.GetInterpretationData,\n  sendInterpretationData: actions.SendInterpretationData,\n  sendImageQulityData: actions.SendImageQulityData\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Interpretation);\n\nvar _c;\n\n$RefreshReg$(_c, \"Interpretation\");","map":{"version":3,"sources":["/Users/kimseongjae/source/eyeDX/src/pages/home/interpretation/interpretation.js"],"names":["React","useState","useEffect","useLayoutEffect","ImageZoom","actions","connect","DarkCheckBox","NormalDarkButton","CustomDarkButton","ToggleButton","InitDataModel","Loader","baseUrl","Lock","useHistory","useParams","useCookies","CustomDotInputSlider","isClickTypeModel","isPhotoClicked","isReportClicked","isProgramModel","isEye","isDiabetic","statusModel","msg","isHold","marks","Interpretation","props","isSelected","setIsSelected","isTypeClick","setIsTypClick","isProgram","setIsProgram","initData","setInitData","comment","setCommnet","stirngToObj","JSON","parse","localStorage","getItem","year","lang","status","setStatus","eyeOD","setEyeOD","items","parts","od","eyeOS","setEyeOS","os","diabeticOD","setDiabeticOD","diabeticOS","setDiabeticOS","showImgQuality","setShowImgQuality","cookies","history","userId","queryObj","errorStatus","setItem","goBack","getInterpretationData","token","access_token","error","interpretationData","undefined","Object","keys","length","code","shot","e","_id","handleHoldImg","handleComment","target","value","handleImgChange","handleTypeButtonChange","handleToggleButton","handleProgramButton","handleChangeChecked","i","j","tempList","checked","splice","map","cchecked","sendDataType","edp","name","dr","body","programs","sendInterpretationData","onSuccessful","userID","url","replace","handleSendData","isVote","handleRetake","handleImageScoreSend","params","start","ns","sendImageQulityData","nextRequest","result","programData","program","vals","val","programList","item","interpretationList","interpretationDate","remainCount","birthday","basalDisease","title","k","race","image_quality","console","log","interpretation_body","position","data_loading","isDataLoading","mapStateToProps","state","LoaderReducer","InterpretationDataReducer","mapDispatchToProps","GetInterpretationData","SendInterpretationData","SendImageQulityData"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useLayoutEffect } from 'react';\nimport \"./interpretation.css\";\nimport ImageZoom from '../../../components/image_zoom/image_zoom'\nimport * as actions from '../../../actions/interpretation/interpretation_data';\nimport { connect } from 'react-redux'\nimport { DarkCheckBox } from '../../../components/parts/check_box/check_box';\nimport { NormalDarkButton,CustomDarkButton,ToggleButton} from '../../../components/parts/button/button';\nimport { InitDataModel} from \"./initModel\";\nimport {Loader} from \"../../../components/loader/loader\";\nimport { baseUrl } from '../../../actions/api';\nimport Lock from \"../../../components/parts/lock/lock\";\nimport { useHistory, useParams } from 'react-router';\nimport { useCookies } from 'react-cookie';\nimport {CustomDotInputSlider} from '../../../components/parts/input_range/input_range';\n\n\nconst isClickTypeModel = {\n    isPhotoClicked : true,\n    isReportClicked : false,\n}\n\nconst isProgramModel = {\n    isEye : true,\n    isDiabetic : false,\n}\n\nconst statusModel = {\n    msg: \"Send & Report\",\n    isHold: false,\n}\n\nconst marks = {\n    '1' : <div className = {'normal15SecGray'}>Worst</div>,\n    '2' : 'Bad',\n    '3' : 'Good',\n    '4' : 'Great',\n    '5' : 'Perfect'\n}\n\nconst Interpretation=(props)=>{\n    const [isSelected, setIsSelected] = useState(true);\n    const [isTypeClick, setIsTypClick] = useState(isClickTypeModel);\n    const [isProgram, setIsProgram] = useState(isProgramModel);\n    const [initData, setInitData] = useState(InitDataModel);\n    const [comment, setCommnet] = useState(\"\");\n    const stirngToObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n    const year = localStorage.getItem(\"filter-value\") !== null ? stirngToObj.lang === \"kr\" ? \"년\" : \"year\" : localStorage.getItem(\"lang\") === \"kr\" ? \"년\" : \"year\";\n    const  [status, setStatus] = useState(statusModel);\n\n    const [eyeOD, setEyeOD] = useState(InitDataModel.items[0].parts.od);\n    const [eyeOS, setEyeOS] = useState(InitDataModel.items[0].parts.os); \n    const [diabeticOD, setDiabeticOD] = useState(InitDataModel.items[1].parts.od); \n    const [diabeticOS, setDiabeticOS] = useState(InitDataModel.items[1].parts.os);\n\n    const [showImgQuality, setShowImgQuality] = useState(false);\n\n    const [cookies] = useCookies(['token']);\n\n    const history = useHistory();\n    const userId = useParams();\n\n    const queryObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n    \n    const errorStatus = () => { /// 데이터가 없는데 interpretation page 로 접속할 경우 생기는 에러메세지 산출\n        if(localStorage.getItem(\"lang\") === \"kr\") {\n            localStorage.setItem(\"error_data\",\"환자의 데이터가 존재하지 않습니다.\");\n            localStorage.setItem(\"error_value\",\"true\");\n        } else {\n            localStorage.setItem(\"error_data\",\"Patient data does not exist.\");\n            localStorage.setItem(\"error_value\",\"true\");\n        }\n        history.goBack();\n    }\n\n    useLayoutEffect(()=>{\n        setInitData(InitDataModel);\n        try {\n            if(userId.userId === \":userId\") { /// 주소창에 /interpretation 이라고 치고 들어올경우\n                errorStatus(); \n            } else { /// waiting page 에서 interpretation button 을 눌고 들어올경우\n                if(localStorage.getItem(\"first_code\") === \"\"){  /// waiting list 에 데이터가 없음\n                    errorStatus();\n                } else { /// 성공적으로 데이터 불러오기\n                    props.getInterpretationData(userId.userId,queryObj,cookies.token.access_token);\n                }\n            }\n        } catch (error) {\n            errorStatus();\n        }\n    },[userId.userId])\n \n    useEffect(() => {\n       try{\n           if(props.interpretationData !== undefined && Object.keys(props.interpretationData).length !== 0){\n                setInitData(props.interpretationData);\n                if(props.interpretationData.status === \"Hold\"){\n                    setStatus({\n                        ...status,\n                        msg: \"Hold\",\n                        isHold : true,\n                    })\n                } else {\n                    setStatus({\n                        ...status,\n                        msg: \"Send & Report\",\n                        isHold : false,\n                    })\n                }\n\n                if(props.interpretationData.items.length === 1) {\n                    if(props.interpretationData.items[0].code !== \"edp\"){\n                        setIsProgram({\n                            \"isEye\" : false,\n                            \"isDiabetic\" : true,\n                        })\n                        setEyeOD(props.interpretationData.items[0].parts.od)\n                        setEyeOS(props.interpretationData.items[0].parts.os)\n                    } else {\n                        setIsProgram({\n                            \"isEye\" : true,\n                            \"isDiabetic\" : false,\n                        })\n                        setDiabeticOD(props.interpretationData.items[0].parts.od)\n                        setDiabeticOS(props.interpretationData.items[0].parts.os)\n                    }   \n                } else {\n                    setIsProgram({\n                        \"isEye\" : true,\n                        \"isDiabetic\" : false,\n                    })\n                    setEyeOD(props.interpretationData.items[0].parts.od)\n                    setEyeOS(props.interpretationData.items[0].parts.os)\n                    setDiabeticOD(props.interpretationData.items[1].parts.od)\n                    setDiabeticOS(props.interpretationData.items[1].parts.os)\n                }\n\n                if(props.interpretationData.shot.od === \"\"){\n                    setIsSelected(false);\n                } else if(props.interpretationData.shot.os === \"\"){\n                    setIsSelected(true);\n                } else {\n                    setIsSelected(true);\n                }\n\n                setCommnet(props.interpretationData.comment);\n            }     \n       } catch (e) {\n            errorStatus();\n       }\n        \n    },[props.interpretationData._id])\n\n    const handleHoldImg = () => {\n        status.isHold ? setStatus(statusModel) : setStatus({\n            ...status,\n            msg: \"Hold\",\n            isHold: true,\n        })\n    }\n\n    const handleComment = (e) => {\n        setCommnet(e.target.value);\n    }\n\n    const handleImgChange = (value) => {\n        if(initData.items.length === 2 && isProgram.isDiabetic){\n            setIsProgram({\n                ...isProgram,\n                \"isEye\":true,\n                \"isDiabetic\":false,\n            })\n        } else {\n            if(initData.items.length === 1) {\n                if(initData.items[0].code === \"edp\") {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":true,\n                        \"isDiabetic\":false,\n                    })\n                } else {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":false,\n                        \"isDiabetic\":true,\n                    })\n                }\n            }\n        }\n\n        switch (value) {\n            case \"od\":\n                if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n                    setIsSelected(true);\n                }  \n                break;\n            case \"os\":\n                if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n                    setIsSelected(false);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleTypeButtonChange = (value) => {\n        switch (value) {\n            case \"photo\":\n                setIsTypClick({\n                    ...isTypeClick,\n                    \"isPhotoClicked\" : true,\n                    \"isReportClicked\" : false,\n                });\n                break;\n            case \"report\":\n                setIsTypClick({\n                    ...isTypeClick,\n                    \"isPhotoClicked\" : false,\n                    \"isReportClicked\" : true,\n                });\n                break;\n            default:\n                break;\n        }\n    }\n \n    const handleToggleButton = () => {\n        if(initData.items.length === 2 && isProgram.isDiabetic){\n            setIsProgram({\n                ...isProgram,\n                \"isEye\":true,\n                \"isDiabetic\":false,\n            })\n        } else {\n            if(initData.items.length === 1) {\n                if(initData.items[0].code === \"edp\") {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":true,\n                        \"isDiabetic\":false,\n                    })\n                } else {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":false,\n                        \"isDiabetic\":true,\n                    })\n                }\n            }\n        }\n        \n        if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n            if(isSelected){\n                setIsSelected(false);\n            } else {\n                setIsSelected(true);\n            }\n        }\n    }\n\n    const handleProgramButton = (value) => {\n        switch (value) {\n            case \"edp\":\n                setIsProgram({\n                    ...isProgram,\n                    \"isEye\" : true,\n                    \"isDiabetic\" : false,\n                })\n                break;\n            case \"dr\":\n                setIsProgram({\n                    ...isProgram,\n                    \"isEye\" : false,\n                    \"isDiabetic\" : true,\n                })\n                break;\n            default:\n                break;\n        }\n    }\n \n    const handleChangeChecked = (i,j,code) => {\n        let tempList;\n        if(isProgram.isEye) {\n            if(isSelected) {\n                tempList = eyeOD[i].checked;\n                switch (code) {\n                    case \"retinal_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    \"checked\" : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 7) {\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        \"checked\" :[false,false,false,false,false,false,false,true]\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(7,1,false);\n                                tempList.splice(j,1,true);\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        \"checked\" : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }        \n                        break;\n                    case \"media_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    case \"optic_nerve_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                    break;\n                    default:\n                        break;\n                }\n            } else {\n                tempList=eyeOS[i].checked\n                switch (code) {\n                    case \"retinal_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 7) {\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : [false,false,false,false,false,false,false,true]\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(7,1,false);\n                                tempList.splice(j,1,true);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }   \n                        break;\n                    case \"media_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : eyeOS[i].checked.splice(0,2,false,true)\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : eyeOS[i].checked.splice(0,2,true,false)\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    case \"optic_nerve_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if(isProgram.isDiabetic){\n            if(isSelected) {\n                tempList=diabeticOD[i].checked\n                switch (code) {\n                    case \"diabetic_retinopathy\":\n                        if(diabeticOD[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(0,5,false,false,false,false,false)\n                            //tempList = [false,false,false,false,false]\n                            tempList.splice(j,1,true)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    cchecked : tempList\n                                } : {...value})\n                            )\n                        }  \n                        break;\n                    case \"csme_suspicion\":\n                        if(diabeticOD[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(j,1,true)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    cchecked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    default:\n                        break;\n                }\n            } else {\n                tempList=diabeticOS[i].checked\n                switch (code) {\n                    case \"diabetic_retinopathy\":\n                        if(diabeticOS[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(0,5,false,false,false,false,false)\n                            tempList.splice(j,1,true)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    cchecked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    case \"csme_suspicion\":\n                        if(diabeticOS[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(j,1,true)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    cchecked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    }\n\n    const sendDataType = () => {\n        const edp = {\n            code: \"edp\",\n            name: \"Eye Disease Presence\",\n            parts : {\n                od: eyeOD,\n                os: eyeOS\n            },\n        }\n\n        const dr = {\n            code: \"dr\",\n            name: \"Diabetic Retinopathy\",\n            parts : {\n                od: diabeticOD,\n                os: diabeticOS\n            },\n        }\n        const body = {\n            lang: localStorage.getItem(\"lang\"),\n            status : status.isHold ? 50 : 100,\n            comment : comment,\n            programs : [edp,dr]\n        }\n        props.sendInterpretationData(localStorage.getItem(\"first_code\"),body,cookies.token.access_token,onSuccessful);\n        setCommnet(\"\");\n        setShowImgQuality(false); \n    }\n\n    const onSuccessful = (userID) => {\n        localStorage.setItem(\"first_code\",userID);\n        let url = \"/interpretation/\" + localStorage.getItem(\"first_code\");\n        history.replace(url);\n    }\n\n    const handleSendData = () => {\n        if(initData.isVote){\n            sendDataType();\n        } else {\n            setShowImgQuality(true);\n        }\n        \n    }\n\n    const handleRetake = () => {\n        const body = {\n            lang: localStorage.getItem(\"lang\"),\n            status : 200\n        }\n        props.sendInterpretationData(localStorage.getItem(\"first_code\"),body,cookies.token.access_token,onSuccessful); \n        setCommnet(\"\");\n        setShowImgQuality(false);\n    }\n\n\n    const handleImageScoreSend = () => {\n        const params = {start:1,ns:0,}\n        props.sendImageQulityData(localStorage.getItem(\"first_code\"),params,cookies.token.access_token,nextRequest);\n    }\n    \n    const nextRequest = (result) => {\n        if(result === \"ok\"){\n            sendDataType();\n        } else {\n            setShowImgQuality(true);\n        }\n    }\n\n    const programData = (\n        <div className = \"check_list_div\">\n            {isProgram.isEye ?\n                isSelected ?\n                    eyeOD.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\"><DarkCheckBox title = {val.name} checked = {program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/></div>))}  \n                        </div>)) : \n                    eyeOS.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\"><DarkCheckBox title = {val.name} checked = {program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/></div>))}  \n                        </div>)) :\n                isSelected ?         \n                    diabeticOD.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\"><DarkCheckBox title = {val.name} checked = {program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/></div>))}  \n                        </div>)) :  \n                    diabeticOS.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key ={j} className = \"check_box_div\"><DarkCheckBox title = {val.name} checked = {program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/></div>))}  \n                        </div>))       \n            }\n        </div>\n    )\n\n    const programList = (\n        <div className = \"inspect_list_div\">\n            <ToggleButton isRight = {isSelected} onClick = {handleToggleButton}/>\n            <div className = \"patient_info_title_span\">Program</div>    \n            {initData.items.map((item,i) => \n                <NormalDarkButton key={i} width = \"100%\" isActive = {item.code === \"edp\" ? isProgram.isEye : isProgram.isDiabetic} title = {item.name} onClick = {()=>handleProgramButton(item.code)}/>\n            )}\n            {programData}\n        </div>\n    )\n\n    const interpretationList = (\n        <div className = \"interpretation_list_div\">\n            <div>\n                <div className = \"inspect_header_div\">\n                    <div className = \"inspect_date_div\">\n                        <Lock onClick = {handleHoldImg} isHold = {status.isHold}/>\n                        <span className = \"inspect_date_span\">{initData.interpretationDate}</span>\n                    </div>\n                    <span className = \"inspect_date_span\">{\"Remaing list: \" + initData.remainCount}</span>\n                </div>\n                <div className = \"patient_info_div\">\n                    <div className = \"patient_info_title_span\">Patient Information</div>\n                    <div className = \"type_button_div\">\n                        <NormalDarkButton isActive = {isTypeClick.isPhotoClicked} title = \"Photo\" width = \"318px\" onClick = {()=>handleTypeButtonChange(\"photo\")}/>\n                        {/* <NormalDarkButton isActive = {isTypeClick.isReportClicked} title = \"Photo\" width = \"150px\" onClick = {()=>handleTypeButtonChange(\"report\")}/> */}\n                    </div>\n                    <div className = \"patient_info_content_span\">B/D : {initData.birthday}</div>\n                    <div className = \"patient_info_content_span\">Basal disease : {initData.basalDisease === null ? \"none\" : \n                        initData.basalDisease.map((title,k)=>(\n                            <span key={k}>{title+year}{initData.basalDisease.length-1 === k ? \"\" : \" / \"}</span>\n                        ))}</div>\n                    <div className = \"patient_info_content_span\">Race : {initData.race}</div>\n                </div>\n            </div>\n            {programList}\n            <div className = \"bottom_submit_div\">\n                <div className = \"comments_div\">\n                    <div className = \"patient_info_title_span\">Comments</div>\n                    <textarea className = \"comment_textarea\" placeholder=\"...entering\" rows=\"4\" value = {comment} onChange = {(e)=>handleComment(e)}></textarea>\n                </div>\n            </div>\n            <div className = \"sumbit_button_div\">\n                <div className = \"type_button_div\"> \n                    <NormalDarkButton isActive = {false} title = \"Retake\" width = \"150px\" onClick = {handleRetake}/>\n                    <CustomDarkButton title = {status.msg} width = \"150px\" onClick = {handleSendData}/>\n                </div>\n            </div>    \n        </div>\n    )\n    \n    const image_quality = (\n        <div className = {'interpretation_image_quality_QHD'} \n        // style = {{visibility:`${showImgQuality ? \"visible\" : \"hidden\"}`}}\n        >\n            <div className = {'interpretation_image_quality_body_QHD'}>\n            <div className = {\"interpretation_image_quality_content_QHD\"}>\n                <div className = {'bold18white interpretation_image_quality_content_header_QHD'}>How was the image quality?</div>\n                <div className = {'normal18FirGray interpretation_image_quality_content_normal_QHD'}>The following surveys are used as data to<div className = {'bold18white'}>improve the quality of images.</div> Thank you for your valuable comments.</div>\n            </div>\n            <div className = {\"interpretation_image_quality_slider_QHD\"}>\n                <CustomDotInputSlider\n                    min={1}\n                    max={5}\n                    onChange = {(value) => console.log(value)}\n                    marks = {marks}\n                    value = {\"worst\"}\n                />\n            </div>\n            <div className = {\"interpretation_image_quality_check_QHD\"}>\n            <DarkCheckBox title = {\"no seen for 5 days\"} checked = {false} onChange = {()=>{}}/>\n            </div>\n            </div>\n        </div>\n    )\n\n    const interpretation_body = (\n        <div style = {{position:'relative'}}>\n            {image_quality}\n        <div className = {'interpretation_body_QHD'}>\n            <div onClick = {()=>handleImgChange(\"od\")} className = {isSelected? 'interpretation_photo_click' : 'interpretation_photo'}>\n                {<ImageZoom src = {initData.shot.od === \"init\" ? \"\" : initData.shot.od === \"\" ? \"none\" : baseUrl + initData.shot.od} id = {initData._id}/>}\n            </div>\n            <div onClick = {()=>handleImgChange(\"os\")} className = {isSelected === false? 'interpretation_photo_click' : 'interpretation_photo'}>\n                {<ImageZoom src = {initData.shot.os === \"init\" ? \"\" : initData.shot.os === \"\" ? \"none\" : baseUrl + initData.shot.os} id = {initData._id}/>}\n            </div>\n            <div className = {'interpretation_list_QHD'}>        \n                {interpretationList}\n            </div>\n        </div>\n        </div>\n    )\n\n    const data_loading = (\n        <div className = \"loading_div\">\n            <div className = \"loading_content_div\">\n                <Loader/>\n                <span>loading...</span>\n            </div>    \n        </div>\n    )\n\n    return(\n        <>\n        {props.isDataLoading ? data_loading :interpretation_body}\n        </>\n    )  \n}\n\nconst mapStateToProps = (state) => ({\n    isDataLoading: state.LoaderReducer.isDataLoading,\n    interpretationData: state.InterpretationDataReducer.interpretationData,\n})\n  \nconst mapDispatchToProps = {\n    getInterpretationData: actions.GetInterpretationData,\n    sendInterpretationData : actions.SendInterpretationData,\n    sendImageQulityData : actions.SendImageQulityData,\n}\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(Interpretation)\n"]},"metadata":{},"sourceType":"module"}