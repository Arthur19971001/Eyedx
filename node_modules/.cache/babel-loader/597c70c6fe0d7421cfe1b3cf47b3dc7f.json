{"ast":null,"code":"var _jsxFileName = \"/Users/kimseongjae/source/eyeDX/src/pages/home/interpretation/interpretation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport \"./interpretation.css\";\nimport ImageZoom from '../../../components/image_zoom/image_zoom';\nimport * as actions from '../../../actions/interpretation/interpretation_data';\nimport { connect } from 'react-redux';\nimport { DarkCheckBox, CheckBox } from '../../../components/parts/check_box/check_box';\nimport { NormalDarkButton, CustomDarkButton, ToggleButton } from '../../../components/parts/button/button';\nimport { InitDataModel } from \"./initModel\";\nimport { Loader } from \"../../../components/loader/loader\";\nimport { baseUrl } from '../../../actions/api';\nimport Lock from \"../../../components/parts/lock/lock\";\nimport { useHistory, useParams } from 'react-router';\nimport { useCookies } from 'react-cookie';\nimport { CustomDotInputSlider, CustomInputSlider } from '../../../components/parts/input_range/input_range';\nimport { CustomAILabel } from \"../../../components/parts/label/label\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst isClickTypeModel = {\n  isPhotoClicked: true,\n  isReportClicked: false\n};\nconst isProgramModel = {\n  isEye: true,\n  isDiabetic: false\n};\nconst statusModel = {\n  msg: \"Send & Report\",\n  isHold: false\n};\nconst imgQualitySendModel = {\n  score: 0,\n  isCheck: false\n};\nconst marks = {\n  '1': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Worst\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 11\n  }, this),\n  '2': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Bad\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 11\n  }, this),\n  '3': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Good\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 11\n  }, this),\n  '4': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Great\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 11\n  }, this),\n  '5': /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'normal15SecGray',\n    children: \"Perfect\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 11\n  }, this)\n};\n\nconst Interpretation = props => {\n  _s();\n\n  const [isSelected, setIsSelected] = useState(true);\n  const [isAiSupport, setIsAiSupport] = useState(false);\n  const [isTypeClick, setIsTypClick] = useState(isClickTypeModel);\n  const [isProgram, setIsProgram] = useState(isProgramModel);\n  const [initData, setInitData] = useState(InitDataModel);\n  const [comment, setCommnet] = useState(\"\");\n  const stirngToObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n  const year = localStorage.getItem(\"filter-value\") !== null ? stirngToObj.lang === \"kr\" ? \"년\" : \"year\" : localStorage.getItem(\"lang\") === \"kr\" ? \"년\" : \"year\";\n  const [status, setStatus] = useState(statusModel);\n  const [sendImgData, setSendImgData] = useState(imgQualitySendModel);\n  const [eyeOD, setEyeOD] = useState(InitDataModel.items[0].parts.od);\n  const [eyeOS, setEyeOS] = useState(InitDataModel.items[0].parts.os);\n  const [diabeticOD, setDiabeticOD] = useState(InitDataModel.items[1].parts.od);\n  const [diabeticOS, setDiabeticOS] = useState(InitDataModel.items[1].parts.os);\n  const [eyeODTem, setEyeODTem] = useState(InitDataModel.items[0].parts.od);\n  const [eyeOSTem, setEyeOSTem] = useState(InitDataModel.items[0].parts.os);\n  const [diabeticODTem, setDiabeticODTem] = useState(InitDataModel.items[1].parts.od);\n  const [diabeticOSTem, setDiabeticOSTem] = useState(InitDataModel.items[1].parts.os);\n  const [showImgQuality, setShowImgQuality] = useState(false);\n  const [cookies] = useCookies(['token']);\n  const history = useHistory();\n  const userId = useParams();\n  const queryObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n\n  const errorStatus = () => {\n    /// 데이터가 없는데 interpretation page 로 접속할 경우 생기는 에러메세지 산출\n    if (localStorage.getItem(\"lang\") === \"kr\") {\n      localStorage.setItem(\"error_data\", \"환자의 데이터가 존재하지 않습니다.\");\n      localStorage.setItem(\"error_value\", \"true\");\n    } else {\n      localStorage.setItem(\"error_data\", \"Patient data does not exist.\");\n      localStorage.setItem(\"error_value\", \"true\");\n    }\n\n    history.goBack();\n  };\n\n  useLayoutEffect(() => {\n    setInitData(InitDataModel);\n\n    try {\n      if (userId.userId === \":userId\") {\n        /// 주소창에 /interpretation 이라고 치고 들어올경우\n        errorStatus();\n      } else {\n        /// waiting page 에서 interpretation button 을 눌고 들어올경우\n        if (localStorage.getItem(\"first_code\") === \"\") {\n          /// waiting list 에 데이터가 없음\n          errorStatus();\n        } else {\n          /// 성공적으로 데이터 불러오기\n          props.getInterpretationData(userId.userId, queryObj, cookies.token.access_token);\n        }\n      }\n    } catch (error) {\n      errorStatus();\n    }\n  }, [userId.userId]);\n  useEffect(() => {\n    try {\n      if (props.interpretationData !== undefined && Object.keys(props.interpretationData).length !== 0) {\n        setInitData(props.interpretationData);\n\n        if (props.interpretationData.status === \"Hold\") {\n          setStatus({ ...status,\n            msg: \"Hold\",\n            isHold: true\n          });\n        } else {\n          setStatus({ ...status,\n            msg: \"Send & Report\",\n            isHold: false\n          });\n        }\n\n        if (props.interpretationData.items.length === 1) {\n          if (props.interpretationData.items[0].code !== \"edp\") {\n            setIsProgram({\n              \"isEye\": false,\n              \"isDiabetic\": true\n            });\n            setEyeOD(props.interpretationData.items[0].parts.od);\n            setEyeOS(props.interpretationData.items[0].parts.os);\n            setEyeODTem(props.interpretationData.items[0].parts.od);\n            setEyeOSTem(props.interpretationData.items[0].parts.os);\n          } else {\n            setIsProgram({\n              \"isEye\": true,\n              \"isDiabetic\": false\n            });\n            setDiabeticOD(props.interpretationData.items[0].parts.od);\n            setDiabeticOS(props.interpretationData.items[0].parts.os);\n            setDiabeticODTem(props.interpretationData.items[0].parts.od);\n            setDiabeticOSTem(props.interpretationData.items[0].parts.os);\n          }\n        } else {\n          setIsProgram({\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n          setEyeOD(props.interpretationData.items[0].parts.od);\n          setEyeOS(props.interpretationData.items[0].parts.os);\n          setDiabeticOD(props.interpretationData.items[1].parts.od);\n          setDiabeticOS(props.interpretationData.items[1].parts.os);\n          setEyeODTem(props.interpretationData.items[0].parts.od);\n          setEyeOSTem(props.interpretationData.items[0].parts.os);\n          setDiabeticODTem(props.interpretationData.items[1].parts.od);\n          setDiabeticOSTem(props.interpretationData.items[1].parts.os);\n        }\n\n        if (props.interpretationData.shot.od === \"\") {\n          setIsSelected(false);\n        } else if (props.interpretationData.shot.os === \"\") {\n          setIsSelected(true);\n        } else {\n          setIsSelected(true);\n        }\n\n        setIsAiSupport(props.interpretationData.aiSupport);\n        setCommnet(props.interpretationData.comment);\n      }\n    } catch (e) {\n      errorStatus();\n    }\n  }, [props.interpretationData._id]);\n\n  const handleHoldImg = () => {\n    status.isHold ? setStatus(statusModel) : setStatus({ ...status,\n      msg: \"Hold\",\n      isHold: true\n    });\n  };\n\n  const handleComment = e => {\n    setCommnet(e.target.value);\n  };\n\n  const handleImgChange = value => {\n    if (initData.items.length === 2 && isProgram.isDiabetic) {\n      setIsProgram({ ...isProgram,\n        \"isEye\": true,\n        \"isDiabetic\": false\n      });\n    } else {\n      if (initData.items.length === 1) {\n        if (initData.items[0].code === \"edp\") {\n          setIsProgram({ ...isProgram,\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n        } else {\n          setIsProgram({ ...isProgram,\n            \"isEye\": false,\n            \"isDiabetic\": true\n          });\n        }\n      }\n    }\n\n    switch (value) {\n      case \"od\":\n        if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n          setIsSelected(true);\n        }\n\n        break;\n\n      case \"os\":\n        if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n          setIsSelected(false);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleTypeButtonChange = value => {\n    switch (value) {\n      case \"photo\":\n        setIsTypClick({ ...isTypeClick,\n          \"isPhotoClicked\": true,\n          \"isReportClicked\": false\n        });\n        break;\n\n      case \"report\":\n        setIsTypClick({ ...isTypeClick,\n          \"isPhotoClicked\": false,\n          \"isReportClicked\": true\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleToggleButton = () => {\n    if (initData.items.length === 2 && isProgram.isDiabetic) {\n      setIsProgram({ ...isProgram,\n        \"isEye\": true,\n        \"isDiabetic\": false\n      });\n    } else {\n      if (initData.items.length === 1) {\n        if (initData.items[0].code === \"edp\") {\n          setIsProgram({ ...isProgram,\n            \"isEye\": true,\n            \"isDiabetic\": false\n          });\n        } else {\n          setIsProgram({ ...isProgram,\n            \"isEye\": false,\n            \"isDiabetic\": true\n          });\n        }\n      }\n    }\n\n    if (initData.shot.od !== \"\" && initData.shot.os !== \"\") {\n      if (isSelected) {\n        setIsSelected(false);\n      } else {\n        setIsSelected(true);\n      }\n    }\n  };\n\n  const handleProgramButton = value => {\n    switch (value) {\n      case \"edp\":\n        setIsProgram({ ...isProgram,\n          \"isEye\": true,\n          \"isDiabetic\": false\n        });\n        break;\n\n      case \"dr\":\n        setIsProgram({ ...isProgram,\n          \"isEye\": false,\n          \"isDiabetic\": true\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleChangeChecked = (i, j, code) => {\n    let tempList;\n\n    if (isAiSupport) {\n      if (isProgram.isEye) {\n        if (isSelected) {\n          tempList = eyeOD[i].ai;\n\n          switch (code) {\n            case \"retinal_abnormality\":\n              if (eyeOD[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  \"ai\": tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 7) {\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    \"ai\": [false, false, false, false, false, false, false, true]\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(7, 1, false);\n                  tempList.splice(j, 1, true);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    \"ai\": tempList\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            case \"media_abnormality\":\n              if (eyeOD[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 1) {\n                  tempList.splice(0, 2, false, true);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 2, true, false);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            case \"optic_nerve_abnormality\":\n              if (eyeOD[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 1) {\n                  tempList.splice(0, 2, false, true);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 2, true, false);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            default:\n              break;\n          }\n        } else {\n          tempList = eyeOS[i].ai;\n\n          switch (code) {\n            case \"retinal_abnormality\":\n              if (eyeOS[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 7) {\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: [false, false, false, false, false, false, false, true]\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(7, 1, false);\n                  tempList.splice(j, 1, true);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            case \"media_abnormality\":\n              if (eyeOS[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 1) {\n                  tempList.splice(0, 2, false, true);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: eyeOS[i].ai.splice(0, 2, false, true)\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 2, true, false);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: eyeOS[i].ai.splice(0, 2, true, false)\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            case \"optic_nerve_abnormality\":\n              if (eyeOS[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                if (j === 1) {\n                  tempList.splice(0, 2, false, true);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 2, true, false);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    ai: tempList\n                  } : { ...value\n                  }));\n                }\n              }\n\n              break;\n\n            default:\n              break;\n          }\n        }\n      } else if (isProgram.isDiabetic) {\n        if (isSelected) {\n          tempList = diabeticOD[i].ai;\n\n          switch (code) {\n            case \"diabetic_retinopathy\":\n              if (diabeticOD[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 5, false, false, false, false, false); //tempList = [false,false,false,false,false]\n\n                tempList.splice(j, 1, true);\n                setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              }\n\n              break;\n\n            case \"csme_suspicion\":\n              if (diabeticOD[i].ai[j]) {\n                tempList.splice(j, 1, false);\n                setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(j, 1, true);\n                setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                  ai: tempList\n                } : { ...value\n                }));\n              }\n\n              break;\n\n            default:\n              break;\n          }\n        } else {\n          tempList = diabeticOS[i].checked;\n\n          switch (code) {\n            case \"diabetic_retinopathy\":\n              if (diabeticOS[i].checked[j]) {\n                tempList.splice(j, 1, false);\n                setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(0, 5, false, false, false, false, false);\n                tempList.splice(j, 1, true);\n                setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                  cchecked: tempList\n                } : { ...value\n                }));\n              }\n\n              break;\n\n            case \"csme_suspicion\":\n              if (diabeticOS[i].checked[j]) {\n                tempList.splice(j, 1, false);\n                setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                  checked: tempList\n                } : { ...value\n                }));\n              } else {\n                tempList.splice(j, 1, true);\n                setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                  cchecked: tempList\n                } : { ...value\n                }));\n              }\n\n              break;\n\n            default:\n              break;\n          }\n        }\n      } else {\n        if (isProgram.isEye) {\n          if (isSelected) {\n            tempList = eyeOD[i].checked;\n\n            switch (code) {\n              case \"retinal_abnormality\":\n                if (eyeOD[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    \"checked\": tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 7) {\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      \"checked\": [false, false, false, false, false, false, false, true]\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(7, 1, false);\n                    tempList.splice(j, 1, true);\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      \"checked\": tempList\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              case \"media_abnormality\":\n                if (eyeOD[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 1) {\n                    tempList.splice(0, 2, false, true);\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(0, 2, true, false);\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              case \"optic_nerve_abnormality\":\n                if (eyeOD[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 1) {\n                    tempList.splice(0, 2, false, true);\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(0, 2, true, false);\n                    setEyeOD(eyeOD.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              default:\n                break;\n            }\n          } else {\n            tempList = eyeOS[i].checked;\n\n            switch (code) {\n              case \"retinal_abnormality\":\n                if (eyeOS[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 7) {\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: [false, false, false, false, false, false, false, true]\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(7, 1, false);\n                    tempList.splice(j, 1, true);\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              case \"media_abnormality\":\n                if (eyeOS[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 1) {\n                    tempList.splice(0, 2, false, true);\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: eyeOS[i].checked.splice(0, 2, false, true)\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(0, 2, true, false);\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: eyeOS[i].checked.splice(0, 2, true, false)\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              case \"optic_nerve_abnormality\":\n                if (eyeOS[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  if (j === 1) {\n                    tempList.splice(0, 2, false, true);\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  } else {\n                    tempList.splice(0, 2, true, false);\n                    setEyeOS(eyeOS.map(value => value.code === code ? { ...value,\n                      checked: tempList\n                    } : { ...value\n                    }));\n                  }\n                }\n\n                break;\n\n              default:\n                break;\n            }\n          }\n        } else if (isProgram.isDiabetic) {\n          if (isSelected) {\n            tempList = diabeticOD[i].checked;\n\n            switch (code) {\n              case \"diabetic_retinopathy\":\n                if (diabeticOD[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 5, false, false, false, false, false); //tempList = [false,false,false,false,false]\n\n                  tempList.splice(j, 1, true);\n                  setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                }\n\n                break;\n\n              case \"csme_suspicion\":\n                if (diabeticOD[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(j, 1, true);\n                  setDiabeticOD(diabeticOD.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                }\n\n                break;\n\n              default:\n                break;\n            }\n          } else {\n            tempList = diabeticOS[i].checked;\n\n            switch (code) {\n              case \"diabetic_retinopathy\":\n                if (diabeticOS[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(0, 5, false, false, false, false, false);\n                  tempList.splice(j, 1, true);\n                  setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                }\n\n                break;\n\n              case \"csme_suspicion\":\n                if (diabeticOS[i].checked[j]) {\n                  tempList.splice(j, 1, false);\n                  setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                } else {\n                  tempList.splice(j, 1, true);\n                  setDiabeticOS(diabeticOS.map(value => value.code === code ? { ...value,\n                    checked: tempList\n                  } : { ...value\n                  }));\n                }\n\n                break;\n\n              default:\n                break;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  const handleAISupportChecked = () => {\n    if (isAiSupport) {\n      setIsAiSupport(false);\n    } else {\n      setIsAiSupport(true);\n    }\n  };\n\n  const handleImgQualityChange = value => {\n    setSendImgData({ ...sendImgData,\n      \"score\": value\n    });\n  };\n\n  const handleImgQualityChecked = () => {\n    if (sendImgData.isCheck) {\n      setSendImgData({ ...sendImgData,\n        \"isCheck\": false\n      });\n    } else {\n      setSendImgData({ ...sendImgData,\n        \"isCheck\": true\n      });\n    }\n  };\n\n  const sendDataType = () => {\n    const edp = {\n      code: \"edp\",\n      name: \"Eye Disease Presence\",\n      parts: {\n        od: eyeOD,\n        os: eyeOS\n      }\n    };\n    const dr = {\n      code: \"dr\",\n      name: \"Diabetic Retinopathy\",\n      parts: {\n        od: diabeticOD,\n        os: diabeticOS\n      }\n    };\n    const body = {\n      lang: localStorage.getItem(\"lang\"),\n      status: status.isHold ? 50 : 100,\n      comment: comment,\n      programs: [edp, dr],\n      aiSupport: isAiSupport,\n      id: localStorage.getItem(\"userID\")\n    };\n    setCommnet(\"\");\n    setSendImgData({ ...sendImgData,\n      \"score\": 0,\n      \"isCheck\": false\n    });\n    setShowImgQuality(false);\n    props.sendInterpretationData(localStorage.getItem(\"first_code\"), body, cookies.token.access_token, onSuccessful);\n  };\n\n  const onSuccessful = userID => {\n    localStorage.setItem(\"first_code\", userID);\n    let url = \"/interpretation/\" + localStorage.getItem(\"first_code\");\n    history.replace(url);\n  };\n\n  const handleSendData = () => {\n    if (initData.isVote) {\n      sendDataType();\n    } else {\n      setShowImgQuality(true);\n    }\n  };\n\n  const handleRetake = () => {\n    const body = {\n      lang: localStorage.getItem(\"lang\"),\n      status: 200\n    };\n    props.sendInterpretationData(localStorage.getItem(\"first_code\"), body, cookies.token.access_token, onSuccessful);\n    setCommnet(\"\");\n    setShowImgQuality(false);\n  };\n\n  const handleImageScoreSend = () => {\n    const params = {\n      start: sendImgData.score,\n      ns: sendImgData.isCheck === true ? 1 : 0\n    };\n    props.sendImageQulityData(localStorage.getItem(\"first_code\"), params, cookies.token.access_token, nextRequest);\n  };\n\n  const nextRequest = result => {\n    if (result === \"ok\") {\n      sendDataType();\n    } else {\n      setShowImgQuality(true);\n    }\n  };\n\n  const programData = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"check_list_div\",\n    children: isProgram.isEye ? isSelected ? eyeOD.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 986,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: [/*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: isAiSupport ? program.ai[j] : program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(CustomAILabel, {\n          isShow: isAiSupport === true && eyeODTem[i].ai[j] === true ? true : false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 33\n        }, this)]\n      }, j, true, {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 985,\n      columnNumber: 25\n    }, this)) : eyeOS.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: [/*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: isAiSupport ? program.ai[j] : program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 33\n        }, this), program.ai[j] ? /*#__PURE__*/_jsxDEV(CustomAILabel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 50\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 69\n        }, this)]\n      }, j, true, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 25\n    }, this)) : isSelected ? diabeticOD.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1006,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: [/*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: isAiSupport ? program.ai[j] : program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1009,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(CustomAILabel, {\n          isShow: isAiSupport === true && program.ai[j] === true ? true : false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 33\n        }, this), \"                            \"]\n      }, j, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1005,\n      columnNumber: 25\n    }, this)) : diabeticOS.map((program, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_content_span\",\n        children: program.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 29\n      }, this), program.vals.map((val, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"check_box_div\",\n        children: [/*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: val.name,\n          checked: isAiSupport ? program.ai[j] : program.checked[j],\n          onChange: () => handleChangeChecked(i, j, program.code)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 33\n        }, this), program.ai[j] ? /*#__PURE__*/_jsxDEV(CustomAILabel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 50\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 69\n        }, this)]\n      }, j, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1016,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 25\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 981,\n    columnNumber: 9\n  }, this);\n\n  const programList = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inspect_list_div\",\n    children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n      isRight: isSelected,\n      onClick: handleToggleButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"patient_info_title_span\",\n      children: \"Program\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1028,\n      columnNumber: 13\n    }, this), initData.items.map((item, i) => /*#__PURE__*/_jsxDEV(NormalDarkButton, {\n      width: \"100%\",\n      isActive: item.code === \"edp\" ? isProgram.isEye : isProgram.isDiabetic,\n      title: item.name,\n      onClick: () => handleProgramButton(item.code)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 17\n    }, this)), programData, /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"end\"\n      },\n      children: /*#__PURE__*/_jsxDEV(CheckBox, {\n        title: \"Ai support\",\n        color: \"white\",\n        checked: isAiSupport,\n        onChange: () => handleAISupportChecked()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1033,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1026,\n    columnNumber: 9\n  }, this);\n\n  const interpretationList = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interpretation_list_div\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inspect_header_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inspect_date_div\",\n          children: [/*#__PURE__*/_jsxDEV(Lock, {\n            onClick: handleHoldImg,\n            isHold: status.isHold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inspect_date_span\",\n            children: initData.interpretationDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inspect_date_span\",\n          children: \"Remaing list: \" + initData.remainCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1047,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"patient_info_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_title_span\",\n          children: \"Patient Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1050,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type_button_div\",\n          children: /*#__PURE__*/_jsxDEV(NormalDarkButton, {\n            isActive: isTypeClick.isPhotoClicked,\n            title: \"Photo\",\n            width: \"318px\",\n            onClick: () => handleTypeButtonChange(\"photo\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1051,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"B/D : \", initData.birthday]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1055,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"Basal disease : \", initData.basalDisease === null ? \"none\" : initData.basalDisease.map((title, k) => /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [title + year, initData.basalDisease.length - 1 === k ? \"\" : \" / \"]\n          }, k, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_content_span\",\n          children: [\"Race : \", initData.race]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1041,\n      columnNumber: 13\n    }, this), programList, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom_submit_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments_div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient_info_title_span\",\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"comment_textarea\",\n          placeholder: \"...entering\",\n          rows: \"4\",\n          value: comment,\n          onChange: e => handleComment(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1065,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sumbit_button_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type_button_div\",\n        children: [/*#__PURE__*/_jsxDEV(NormalDarkButton, {\n          isActive: false,\n          title: \"Retake\",\n          width: \"150px\",\n          onClick: handleRetake\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CustomDarkButton, {\n          title: status.msg,\n          width: \"150px\",\n          onClick: handleSendData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1040,\n    columnNumber: 9\n  }, this);\n\n  const image_quality = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'interpretation_image_quality_QHD',\n    style: {\n      visibility: `${showImgQuality ? \"visible\" : \"hidden\"}`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'interpretation_image_quality_body_QHD',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_content_QHD\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'bold18white interpretation_image_quality_content_header_QHD',\n          children: \"How was the image quality?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1085,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'normal18FirGray interpretation_image_quality_content_normal_QHD',\n          children: [\"The following surveys are used as data to\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'bold18white',\n            children: \"improve the quality of images.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 143\n          }, this), \" Thank you for your valuable comments.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1086,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1084,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_slider_QHD\",\n        children: /*#__PURE__*/_jsxDEV(CustomDotInputSlider, {\n          min: 1,\n          max: 5,\n          onChange: value => handleImgQualityChange(value),\n          onAfterChange: handleImageScoreSend,\n          marks: marks,\n          value: sendImgData.score,\n          isTipShow: showImgQuality\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1088,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"interpretation_image_quality_check_QHD\",\n        children: /*#__PURE__*/_jsxDEV(DarkCheckBox, {\n          title: \"no seen for 5 days\",\n          checked: sendImgData.isCheck,\n          onChange: handleImgQualityChecked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1083,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1080,\n    columnNumber: 9\n  }, this);\n\n  const interpretation_body = /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    children: [image_quality, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'interpretation_body_QHD',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleImgChange(\"od\"),\n        className: isSelected ? 'interpretation_photo_click' : 'interpretation_photo',\n        children: /*#__PURE__*/_jsxDEV(ImageZoom, {\n          src: initData.shot.od === \"init\" ? \"\" : initData.shot.od === \"\" ? \"none\" : baseUrl + initData.shot.od,\n          id: initData._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1111,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1110,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleImgChange(\"os\"),\n        className: isSelected === false ? 'interpretation_photo_click' : 'interpretation_photo',\n        children: /*#__PURE__*/_jsxDEV(ImageZoom, {\n          src: initData.shot.os === \"init\" ? \"\" : initData.shot.os === \"\" ? \"none\" : baseUrl + initData.shot.os,\n          id: initData._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1114,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'interpretation_list_QHD',\n        children: interpretationList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1116,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1107,\n    columnNumber: 9\n  }, this);\n\n  const data_loading = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading_div\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading_content_div\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1125,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1124,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: props.isDataLoading ? data_loading : interpretation_body\n  }, void 0, false);\n};\n\n_s(Interpretation, \"Z97tLUPg0CNi9ECpCltiNqUHTe4=\", false, function () {\n  return [useCookies, useHistory, useParams];\n});\n\n_c = Interpretation;\n\nconst mapStateToProps = state => ({\n  isDataLoading: state.LoaderReducer.isDataLoading,\n  interpretationData: state.InterpretationDataReducer.interpretationData\n});\n\nconst mapDispatchToProps = {\n  getInterpretationData: actions.GetInterpretationData,\n  sendInterpretationData: actions.SendInterpretationData,\n  sendImageQulityData: actions.SendImageQulityData\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Interpretation);\n\nvar _c;\n\n$RefreshReg$(_c, \"Interpretation\");","map":{"version":3,"sources":["/Users/kimseongjae/source/eyeDX/src/pages/home/interpretation/interpretation.js"],"names":["React","useState","useEffect","useLayoutEffect","ImageZoom","actions","connect","DarkCheckBox","CheckBox","NormalDarkButton","CustomDarkButton","ToggleButton","InitDataModel","Loader","baseUrl","Lock","useHistory","useParams","useCookies","CustomDotInputSlider","CustomInputSlider","CustomAILabel","isClickTypeModel","isPhotoClicked","isReportClicked","isProgramModel","isEye","isDiabetic","statusModel","msg","isHold","imgQualitySendModel","score","isCheck","marks","Interpretation","props","isSelected","setIsSelected","isAiSupport","setIsAiSupport","isTypeClick","setIsTypClick","isProgram","setIsProgram","initData","setInitData","comment","setCommnet","stirngToObj","JSON","parse","localStorage","getItem","year","lang","status","setStatus","sendImgData","setSendImgData","eyeOD","setEyeOD","items","parts","od","eyeOS","setEyeOS","os","diabeticOD","setDiabeticOD","diabeticOS","setDiabeticOS","eyeODTem","setEyeODTem","eyeOSTem","setEyeOSTem","diabeticODTem","setDiabeticODTem","diabeticOSTem","setDiabeticOSTem","showImgQuality","setShowImgQuality","cookies","history","userId","queryObj","errorStatus","setItem","goBack","getInterpretationData","token","access_token","error","interpretationData","undefined","Object","keys","length","code","shot","aiSupport","e","_id","handleHoldImg","handleComment","target","value","handleImgChange","handleTypeButtonChange","handleToggleButton","handleProgramButton","handleChangeChecked","i","j","tempList","ai","splice","map","checked","cchecked","handleAISupportChecked","handleImgQualityChange","handleImgQualityChecked","sendDataType","edp","name","dr","body","programs","id","sendInterpretationData","onSuccessful","userID","url","replace","handleSendData","isVote","handleRetake","handleImageScoreSend","params","start","ns","sendImageQulityData","nextRequest","result","programData","program","vals","val","programList","item","display","justifyContent","interpretationList","interpretationDate","remainCount","birthday","basalDisease","title","k","race","image_quality","visibility","interpretation_body","position","data_loading","isDataLoading","mapStateToProps","state","LoaderReducer","InterpretationDataReducer","mapDispatchToProps","GetInterpretationData","SendInterpretationData","SendImageQulityData"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useLayoutEffect } from 'react';\nimport \"./interpretation.css\";\nimport ImageZoom from '../../../components/image_zoom/image_zoom'\nimport * as actions from '../../../actions/interpretation/interpretation_data';\nimport { connect } from 'react-redux'\nimport { DarkCheckBox,CheckBox } from '../../../components/parts/check_box/check_box';\nimport { NormalDarkButton,CustomDarkButton,ToggleButton} from '../../../components/parts/button/button';\nimport { InitDataModel} from \"./initModel\";\nimport {Loader} from \"../../../components/loader/loader\";\nimport { baseUrl } from '../../../actions/api';\nimport Lock from \"../../../components/parts/lock/lock\";\nimport { useHistory, useParams } from 'react-router';\nimport { useCookies } from 'react-cookie';\nimport {CustomDotInputSlider,CustomInputSlider} from '../../../components/parts/input_range/input_range';\nimport {CustomAILabel} from \"../../../components/parts/label/label\";\n\n\nconst isClickTypeModel = {\n    isPhotoClicked : true,\n    isReportClicked : false,\n}\n\nconst isProgramModel = {\n    isEye : true,\n    isDiabetic : false,\n}\n\nconst statusModel = {\n    msg: \"Send & Report\",\n    isHold: false,\n}\n\nconst imgQualitySendModel = {\n    score: 0,\n    isCheck: false,\n}\n\nconst marks = {\n    '1' : <div className = {'normal15SecGray'}>Worst</div>,\n    '2' : <div className = {'normal15SecGray'}>Bad</div>,\n    '3' : <div className = {'normal15SecGray'}>Good</div>,\n    '4' : <div className = {'normal15SecGray'}>Great</div>,\n    '5' : <div className = {'normal15SecGray'}>Perfect</div>\n}\n\nconst Interpretation=(props)=>{\n    const [isSelected, setIsSelected] = useState(true);\n    const [isAiSupport, setIsAiSupport] = useState(false);\n    const [isTypeClick, setIsTypClick] = useState(isClickTypeModel);\n    const [isProgram, setIsProgram] = useState(isProgramModel);\n    const [initData, setInitData] = useState(InitDataModel);\n    const [comment, setCommnet] = useState(\"\");\n    const stirngToObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n    const year = localStorage.getItem(\"filter-value\") !== null ? stirngToObj.lang === \"kr\" ? \"년\" : \"year\" : localStorage.getItem(\"lang\") === \"kr\" ? \"년\" : \"year\";\n    const  [status, setStatus] = useState(statusModel);\n    const [sendImgData, setSendImgData] = useState(imgQualitySendModel);\n\n    const [eyeOD, setEyeOD] = useState(InitDataModel.items[0].parts.od);\n    const [eyeOS, setEyeOS] = useState(InitDataModel.items[0].parts.os); \n    const [diabeticOD, setDiabeticOD] = useState(InitDataModel.items[1].parts.od); \n    const [diabeticOS, setDiabeticOS] = useState(InitDataModel.items[1].parts.os);\n\n    const [eyeODTem, setEyeODTem] = useState(InitDataModel.items[0].parts.od);\n    const [eyeOSTem, setEyeOSTem] = useState(InitDataModel.items[0].parts.os); \n    const [diabeticODTem, setDiabeticODTem] = useState(InitDataModel.items[1].parts.od); \n    const [diabeticOSTem, setDiabeticOSTem] = useState(InitDataModel.items[1].parts.os);\n\n\n    const [showImgQuality, setShowImgQuality] = useState(false);\n\n    const [cookies] = useCookies(['token']);\n\n    const history = useHistory();\n    const userId = useParams();\n\n    const queryObj = JSON.parse(localStorage.getItem(\"filter-value\"));\n    \n    const errorStatus = () => { /// 데이터가 없는데 interpretation page 로 접속할 경우 생기는 에러메세지 산출\n        if(localStorage.getItem(\"lang\") === \"kr\") {\n            localStorage.setItem(\"error_data\",\"환자의 데이터가 존재하지 않습니다.\");\n            localStorage.setItem(\"error_value\",\"true\");\n        } else {\n            localStorage.setItem(\"error_data\",\"Patient data does not exist.\");\n            localStorage.setItem(\"error_value\",\"true\");\n        }\n        history.goBack();\n    }\n\n    useLayoutEffect(()=>{\n        setInitData(InitDataModel);\n        try {\n            if(userId.userId === \":userId\") { /// 주소창에 /interpretation 이라고 치고 들어올경우\n                errorStatus(); \n            } else { /// waiting page 에서 interpretation button 을 눌고 들어올경우\n                if(localStorage.getItem(\"first_code\") === \"\"){  /// waiting list 에 데이터가 없음\n                    errorStatus();\n                } else { /// 성공적으로 데이터 불러오기\n                    props.getInterpretationData(userId.userId,queryObj,cookies.token.access_token);\n                }\n            }\n        } catch (error) {\n            errorStatus();\n        }\n    },[userId.userId])\n \n    useEffect(() => {\n       try{\n           if(props.interpretationData !== undefined && Object.keys(props.interpretationData).length !== 0){\n                setInitData(props.interpretationData);\n                if(props.interpretationData.status === \"Hold\"){\n                    setStatus({\n                        ...status,\n                        msg: \"Hold\",\n                        isHold : true,\n                    })\n                } else {\n                    setStatus({\n                        ...status,\n                        msg: \"Send & Report\",\n                        isHold : false,\n                    })\n                }\n\n                if(props.interpretationData.items.length === 1) {\n                    if(props.interpretationData.items[0].code !== \"edp\"){\n                        setIsProgram({\n                            \"isEye\" : false,\n                            \"isDiabetic\" : true,\n                        })\n                        setEyeOD(props.interpretationData.items[0].parts.od)\n                        setEyeOS(props.interpretationData.items[0].parts.os)\n\n                        setEyeODTem(props.interpretationData.items[0].parts.od)\n                        setEyeOSTem(props.interpretationData.items[0].parts.os)\n                    } else {\n                        setIsProgram({\n                            \"isEye\" : true,\n                            \"isDiabetic\" : false,\n                        })\n                        setDiabeticOD(props.interpretationData.items[0].parts.od)\n                        setDiabeticOS(props.interpretationData.items[0].parts.os)\n\n                        setDiabeticODTem(props.interpretationData.items[0].parts.od)\n                        setDiabeticOSTem(props.interpretationData.items[0].parts.os)\n                    }   \n                } else {\n                    setIsProgram({\n                        \"isEye\" : true,\n                        \"isDiabetic\" : false,\n                    })\n                    setEyeOD(props.interpretationData.items[0].parts.od)\n                    setEyeOS(props.interpretationData.items[0].parts.os)\n                    setDiabeticOD(props.interpretationData.items[1].parts.od)\n                    setDiabeticOS(props.interpretationData.items[1].parts.os)\n\n                    setEyeODTem(props.interpretationData.items[0].parts.od)\n                    setEyeOSTem(props.interpretationData.items[0].parts.os)\n                    setDiabeticODTem(props.interpretationData.items[1].parts.od)\n                    setDiabeticOSTem(props.interpretationData.items[1].parts.os)\n                }\n\n                if(props.interpretationData.shot.od === \"\"){\n                    setIsSelected(false);\n                } else if(props.interpretationData.shot.os === \"\"){\n                    setIsSelected(true);\n                } else {\n                    setIsSelected(true);\n                }\n                setIsAiSupport(props.interpretationData.aiSupport);\n                setCommnet(props.interpretationData.comment);\n            }     \n       } catch (e) {\n            errorStatus();\n       }\n        \n    },[props.interpretationData._id])\n\n    const handleHoldImg = () => {\n        status.isHold ? setStatus(statusModel) : setStatus({\n            ...status,\n            msg: \"Hold\",\n            isHold: true,\n        })\n    }\n\n    const handleComment = (e) => {\n        setCommnet(e.target.value);\n    }\n\n    const handleImgChange = (value) => {\n        if(initData.items.length === 2 && isProgram.isDiabetic){\n            setIsProgram({\n                ...isProgram,\n                \"isEye\":true,\n                \"isDiabetic\":false,\n            })\n        } else {\n            if(initData.items.length === 1) {\n                if(initData.items[0].code === \"edp\") {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":true,\n                        \"isDiabetic\":false,\n                    })\n                } else {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":false,\n                        \"isDiabetic\":true,\n                    })\n                }\n            }\n        }\n\n        switch (value) {\n            case \"od\":\n                if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n                    setIsSelected(true);\n                }  \n                break;\n            case \"os\":\n                if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n                    setIsSelected(false);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleTypeButtonChange = (value) => {\n        switch (value) {\n            case \"photo\":\n                setIsTypClick({\n                    ...isTypeClick,\n                    \"isPhotoClicked\" : true,\n                    \"isReportClicked\" : false,\n                });\n                break;\n            case \"report\":\n                setIsTypClick({\n                    ...isTypeClick,\n                    \"isPhotoClicked\" : false,\n                    \"isReportClicked\" : true,\n                });\n                break;\n            default:\n                break;\n        }\n    }\n \n    const handleToggleButton = () => {\n        if(initData.items.length === 2 && isProgram.isDiabetic){\n            setIsProgram({\n                ...isProgram,\n                \"isEye\":true,\n                \"isDiabetic\":false,\n            })\n        } else {\n            if(initData.items.length === 1) {\n                if(initData.items[0].code === \"edp\") {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":true,\n                        \"isDiabetic\":false,\n                    })\n                } else {\n                    setIsProgram({\n                        ...isProgram,\n                        \"isEye\":false,\n                        \"isDiabetic\":true,\n                    })\n                }\n            }\n        }\n        \n        if(initData.shot.od !== \"\" && initData.shot.os !== \"\"){\n            if(isSelected){\n                setIsSelected(false);\n            } else {\n                setIsSelected(true);\n            }\n        }\n    }\n\n    const handleProgramButton = (value) => {\n        switch (value) {\n            case \"edp\":\n                setIsProgram({\n                    ...isProgram,\n                    \"isEye\" : true,\n                    \"isDiabetic\" : false,\n                })\n                break;\n            case \"dr\":\n                setIsProgram({\n                    ...isProgram,\n                    \"isEye\" : false,\n                    \"isDiabetic\" : true,\n                })\n                break;\n            default:\n                break;\n        }\n    }\n \n    const handleChangeChecked = (i,j,code) => {\n        let tempList;\n        if(isAiSupport){\n            if(isProgram.isEye) {\n                if(isSelected) {\n                    tempList = eyeOD[i].ai;\n                    switch (code) {\n                        case \"retinal_abnormality\":\n                            if(eyeOD[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        \"ai\" : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 7) {\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            \"ai\" :[false,false,false,false,false,false,false,true]\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(7,1,false);\n                                    tempList.splice(j,1,true);\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            \"ai\" : tempList\n                                        } : {...value})\n                                    )\n                                }\n                            }        \n                            break;\n                        case \"media_abnormality\":\n                            if(eyeOD[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 1) {\n                                    tempList.splice(0,2,false,true)\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(0,2,true,false)\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                }\n                            }\n                            break;\n                        case \"optic_nerve_abnormality\":\n                            if(eyeOD[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 1) {\n                                    tempList.splice(0,2,false,true)\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(0,2,true,false)\n                                    setEyeOD(\n                                        eyeOD.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                }\n                            }\n                        break;\n                        default:\n                            break;\n                    }\n                } else {\n                    tempList=eyeOS[i].ai\n                    switch (code) {\n                        case \"retinal_abnormality\":\n                            if(eyeOS[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 7) {\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : [false,false,false,false,false,false,false,true]\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(7,1,false);\n                                    tempList.splice(j,1,true);\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                }\n                            }   \n                            break;\n                        case \"media_abnormality\":\n                            if(eyeOS[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 1) {\n                                    tempList.splice(0,2,false,true);\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : eyeOS[i].ai.splice(0,2,false,true)\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(0,2,true,false);\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : eyeOS[i].ai.splice(0,2,true,false)\n                                        } : {...value})\n                                    )\n                                }\n                            }\n                            break;\n                        case \"optic_nerve_abnormality\":\n                            if(eyeOS[i].ai[j]) {\n                                tempList.splice(j,1,false);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                if(j === 1) {\n                                    tempList.splice(0,2,false,true)\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                } else {\n                                    tempList.splice(0,2,true,false)\n                                    setEyeOS(\n                                        eyeOS.map((value) => value.code === code ? {\n                                            ...value,\n                                            ai : tempList\n                                        } : {...value})\n                                    )\n                                }\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            } else if(isProgram.isDiabetic){\n                if(isSelected) {\n                    tempList=diabeticOD[i].ai\n                    switch (code) {\n                        case \"diabetic_retinopathy\":\n                            if(diabeticOD[i].ai[j]) {\n                                tempList.splice(j,1,false)\n                                setDiabeticOD(\n                                    diabeticOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,5,false,false,false,false,false)\n                                //tempList = [false,false,false,false,false]\n                                tempList.splice(j,1,true)\n                                setDiabeticOD(\n                                    diabeticOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            }  \n                            break;\n                        case \"csme_suspicion\":\n                            if(diabeticOD[i].ai[j]) {\n                                tempList.splice(j,1,false)\n                                setDiabeticOD(\n                                    diabeticOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(j,1,true)\n                                setDiabeticOD(\n                                    diabeticOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        ai : tempList\n                                    } : {...value})\n                                )\n                            }    \n                            break;\n                        default:\n                            break;\n                    }\n                } else {\n                    tempList=diabeticOS[i].checked\n                    switch (code) {\n                        case \"diabetic_retinopathy\":\n                            if(diabeticOS[i].checked[j]) {\n                                tempList.splice(j,1,false)\n                                setDiabeticOS(\n                                    diabeticOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,5,false,false,false,false,false)\n                                tempList.splice(j,1,true)\n                                setDiabeticOS(\n                                    diabeticOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        cchecked : tempList\n                                    } : {...value})\n                                )\n                            }    \n                            break;\n                        case \"csme_suspicion\":\n                            if(diabeticOS[i].checked[j]) {\n                                tempList.splice(j,1,false)\n                                setDiabeticOS(\n                                    diabeticOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(j,1,true)\n                                setDiabeticOS(\n                                    diabeticOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        cchecked : tempList\n                                    } : {...value})\n                                )\n                            }    \n                            break;\n                        default:\n                            break;\n                        }\n                    }\n        } else {\n        if(isProgram.isEye) {\n            if(isSelected) {\n                tempList = eyeOD[i].checked;\n                switch (code) {\n                    case \"retinal_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    \"checked\" : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 7) {\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        \"checked\" :[false,false,false,false,false,false,false,true]\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(7,1,false);\n                                tempList.splice(j,1,true);\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        \"checked\" : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }        \n                        break;\n                    case \"media_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    case \"optic_nerve_abnormality\":\n                        if(eyeOD[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOD(\n                                eyeOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOD(\n                                    eyeOD.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                    break;\n                    default:\n                        break;\n                }\n            } else {\n                tempList=eyeOS[i].checked\n                switch (code) {\n                    case \"retinal_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 7) {\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : [false,false,false,false,false,false,false,true]\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(7,1,false);\n                                tempList.splice(j,1,true);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }   \n                        break;\n                    case \"media_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : eyeOS[i].checked.splice(0,2,false,true)\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false);\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : eyeOS[i].checked.splice(0,2,true,false)\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    case \"optic_nerve_abnormality\":\n                        if(eyeOS[i].checked[j]) {\n                            tempList.splice(j,1,false);\n                            setEyeOS(\n                                eyeOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            if(j === 1) {\n                                tempList.splice(0,2,false,true)\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            } else {\n                                tempList.splice(0,2,true,false)\n                                setEyeOS(\n                                    eyeOS.map((value) => value.code === code ? {\n                                        ...value,\n                                        checked : tempList\n                                    } : {...value})\n                                )\n                            }\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if(isProgram.isDiabetic){\n            if(isSelected) {\n                tempList=diabeticOD[i].checked\n                switch (code) {\n                    case \"diabetic_retinopathy\":\n                        if(diabeticOD[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(0,5,false,false,false,false,false)\n                            //tempList = [false,false,false,false,false]\n                            tempList.splice(j,1,true)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        }  \n                        break;\n                    case \"csme_suspicion\":\n                        if(diabeticOD[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(j,1,true)\n                            setDiabeticOD(\n                                diabeticOD.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    default:\n                        break;\n                }\n            } else {\n                tempList=diabeticOS[i].checked\n                switch (code) {\n                    case \"diabetic_retinopathy\":\n                        if(diabeticOS[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(0,5,false,false,false,false,false)\n                            tempList.splice(j,1,true)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    case \"csme_suspicion\":\n                        if(diabeticOS[i].checked[j]) {\n                            tempList.splice(j,1,false)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        } else {\n                            tempList.splice(j,1,true)\n                            setDiabeticOS(\n                                diabeticOS.map((value) => value.code === code ? {\n                                    ...value,\n                                    checked : tempList\n                                } : {...value})\n                            )\n                        }    \n                        break;\n                    default:\n                        break;\n                    }\n                }\n            }}\n        }   \n    }\n\n    const handleAISupportChecked = () => {\n        if(isAiSupport) {\n            setIsAiSupport(false);\n        } else {\n            setIsAiSupport(true);\n        }\n    }\n\n    const handleImgQualityChange = (value) => {\n        setSendImgData({\n            ...sendImgData,\n            \"score\" : value,\n        })\n    }\n\n    const handleImgQualityChecked = ()=>{\n        if(sendImgData.isCheck){\n            setSendImgData({\n                ...sendImgData,\n                \"isCheck\" : false\n            })\n        } else {\n            setSendImgData({\n                ...sendImgData,\n                \"isCheck\" : true\n            })\n        }\n    }\n\n    const sendDataType = () => {\n        const edp = {\n            code: \"edp\",\n            name: \"Eye Disease Presence\",\n            parts : {\n                od: eyeOD,\n                os: eyeOS\n            },\n        }\n\n        const dr = {\n            code: \"dr\",\n            name: \"Diabetic Retinopathy\",\n            parts : {\n                od: diabeticOD,\n                os: diabeticOS\n            },\n        }\n        const body = {\n            lang: localStorage.getItem(\"lang\"),\n            status : status.isHold ? 50 : 100,\n            comment : comment,\n            programs : [edp,dr],\n            aiSupport : isAiSupport,\n            id : localStorage.getItem(\"userID\"),\n        }        \n        setCommnet(\"\");\n        setSendImgData({\n            ...sendImgData,\n            \"score\":0,\n            \"isCheck\":false,\n        })\n        setShowImgQuality(false); \n        props.sendInterpretationData(localStorage.getItem(\"first_code\"),body,cookies.token.access_token,onSuccessful);\n    }\n\n    const onSuccessful = (userID) => {\n        localStorage.setItem(\"first_code\",userID);\n        let url = \"/interpretation/\" + localStorage.getItem(\"first_code\");\n        history.replace(url);\n    }\n\n    const handleSendData = () => {\n        if(initData.isVote){\n            sendDataType();\n        } else {\n            setShowImgQuality(true);\n        }\n        \n    }\n\n    const handleRetake = () => {\n        const body = {\n            lang: localStorage.getItem(\"lang\"),\n            status : 200\n        }\n        props.sendInterpretationData(localStorage.getItem(\"first_code\"),body,cookies.token.access_token,onSuccessful); \n        setCommnet(\"\");\n        setShowImgQuality(false);\n    }\n\n    const handleImageScoreSend = () => {\n        const params = {start: sendImgData.score,ns:sendImgData.isCheck === true ? 1 : 0,}\n        props.sendImageQulityData(localStorage.getItem(\"first_code\"),params,cookies.token.access_token,nextRequest);\n    }\n    \n    const nextRequest = (result) => {\n        if(result === \"ok\"){\n            sendDataType();\n        } else {\n            setShowImgQuality(true);\n        }\n    }\n\n    const programData = (\n        <div className = \"check_list_div\">\n            {isProgram.isEye ?\n                isSelected ?\n                    eyeOD.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\">\n                                <DarkCheckBox title = {val.name} checked = {isAiSupport ? program.ai[j] : program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/>\n                                <CustomAILabel isShow = {isAiSupport === true && eyeODTem[i].ai[j] === true ? true : false}/>\n                            </div>))}  \n                        </div>)) : \n                    eyeOS.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\">\n                                <DarkCheckBox title = {val.name} checked = {isAiSupport ? program.ai[j] : program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/>\n                                {program.ai[j] ? <CustomAILabel/> : <div></div>}\n                            </div>))}  \n                        </div>\n                        )) :\n                isSelected ?         \n                    diabeticOD.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key={j} className = \"check_box_div\">\n                                <DarkCheckBox title = {val.name} checked = {isAiSupport ? program.ai[j] : program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/>\n                                <CustomAILabel isShow = {isAiSupport === true && program.ai[j] === true ? true : false}/>                            </div>))}  \n                        </div>)) :  \n                    diabeticOS.map((program,i) => (   \n                        <div>                             \n                            <div key = {i} className = \"patient_info_content_span\">{program.name}</div>\n                                {program.vals.map((val,j) => (\n                            <div key ={j} className = \"check_box_div\">\n                                <DarkCheckBox title = {val.name} checked = {isAiSupport ? program.ai[j] : program.checked[j]} onChange = {()=>handleChangeChecked(i,j,program.code)}/>\n                                {program.ai[j] ? <CustomAILabel/> : <div></div>}\n                            </div>))}  \n                        </div>))       \n            }\n        </div>\n    )\n\n    const programList = (\n        <div className = \"inspect_list_div\">\n            <ToggleButton isRight = {isSelected} onClick = {handleToggleButton}/>\n            <div className = \"patient_info_title_span\">Program</div>    \n            {initData.items.map((item,i) => \n                <NormalDarkButton key={i} width = \"100%\" isActive = {item.code === \"edp\" ? isProgram.isEye : isProgram.isDiabetic} title = {item.name} onClick = {()=>handleProgramButton(item.code)}/>\n            )}\n            {programData}\n            <div style = {{display:\"flex\", justifyContent:\"end\"}}>\n                <CheckBox title = {\"Ai support\"} color = \"white\" checked = {isAiSupport} onChange = {()=>handleAISupportChecked()}/>\n            </div>\n        </div>\n    )\n\n    const interpretationList = (\n        <div className = \"interpretation_list_div\">\n            <div>\n                <div className = \"inspect_header_div\">\n                    <div className = \"inspect_date_div\">\n                        <Lock onClick = {handleHoldImg} isHold = {status.isHold}/>\n                        <span className = \"inspect_date_span\">{initData.interpretationDate}</span>\n                    </div>\n                    <span className = \"inspect_date_span\">{\"Remaing list: \" + initData.remainCount}</span>\n                </div>\n                <div className = \"patient_info_div\">\n                    <div className = \"patient_info_title_span\">Patient Information</div>\n                    <div className = \"type_button_div\">\n                        <NormalDarkButton isActive = {isTypeClick.isPhotoClicked} title = \"Photo\" width = \"318px\" onClick = {()=>handleTypeButtonChange(\"photo\")}/>\n                        {/* <NormalDarkButton isActive = {isTypeClick.isReportClicked} title = \"Photo\" width = \"150px\" onClick = {()=>handleTypeButtonChange(\"report\")}/> */}\n                    </div>\n                    <div className = \"patient_info_content_span\">B/D : {initData.birthday}</div>\n                    <div className = \"patient_info_content_span\">Basal disease : {initData.basalDisease === null ? \"none\" : \n                        initData.basalDisease.map((title,k)=>(\n                            <span key={k}>{title+year}{initData.basalDisease.length-1 === k ? \"\" : \" / \"}</span>\n                        ))}</div>\n                    <div className = \"patient_info_content_span\">Race : {initData.race}</div>\n                </div>\n            </div>\n            {programList}\n            <div className = \"bottom_submit_div\">\n                <div className = \"comments_div\">\n                    <div className = \"patient_info_title_span\">Comments</div>\n                    <textarea className = \"comment_textarea\" placeholder=\"...entering\" rows=\"4\" value = {comment} onChange = {(e)=>handleComment(e)}></textarea>\n                </div>\n            </div>\n            <div className = \"sumbit_button_div\">\n                <div className = \"type_button_div\"> \n                    <NormalDarkButton isActive = {false} title = \"Retake\" width = \"150px\" onClick = {handleRetake}/>\n                    <CustomDarkButton title = {status.msg} width = \"150px\" onClick = {handleSendData}/>\n                </div>\n            </div>    \n        </div>\n    )\n    \n    const image_quality = (\n        <div className = {'interpretation_image_quality_QHD'} \n        style = {{visibility:`${showImgQuality ? \"visible\" : \"hidden\"}`}}\n        >\n            <div className = {'interpretation_image_quality_body_QHD'}>\n            <div className = {\"interpretation_image_quality_content_QHD\"}>\n                <div className = {'bold18white interpretation_image_quality_content_header_QHD'}>How was the image quality?</div>\n                <div className = {'normal18FirGray interpretation_image_quality_content_normal_QHD'}>The following surveys are used as data to<div className = {'bold18white'}>improve the quality of images.</div> Thank you for your valuable comments.</div>\n            </div>\n            <div className = {\"interpretation_image_quality_slider_QHD\"}>\n                <CustomDotInputSlider\n                    min={1}\n                    max={5}\n                    onChange = {(value) => handleImgQualityChange(value)}\n                    onAfterChange = {handleImageScoreSend}\n                    marks = {marks}\n                    value = {sendImgData.score}\n                    isTipShow = {showImgQuality}\n                />\n            </div>\n            <div className = {\"interpretation_image_quality_check_QHD\"}>\n            <DarkCheckBox title = {\"no seen for 5 days\"} checked = {sendImgData.isCheck} onChange = {handleImgQualityChecked}/>\n            </div>\n            </div>\n        </div>\n    )\n\n    const interpretation_body = (\n        <div style = {{position:'relative'}}>\n            {image_quality}\n        <div className = {'interpretation_body_QHD'}>\n            <div onClick = {()=>handleImgChange(\"od\")} className = {isSelected? 'interpretation_photo_click' : 'interpretation_photo'}>\n                {<ImageZoom src = {initData.shot.od === \"init\" ? \"\" : initData.shot.od === \"\" ? \"none\" : baseUrl + initData.shot.od} id = {initData._id}/>}\n            </div>\n            <div onClick = {()=>handleImgChange(\"os\")} className = {isSelected === false? 'interpretation_photo_click' : 'interpretation_photo'}>\n                {<ImageZoom src = {initData.shot.os === \"init\" ? \"\" : initData.shot.os === \"\" ? \"none\" : baseUrl + initData.shot.os} id = {initData._id}/>}\n            </div>\n            <div className = {'interpretation_list_QHD'}>        \n                {interpretationList}\n            </div>\n        </div>\n        </div>\n    )\n\n    const data_loading = (\n        <div className = \"loading_div\">\n            <div className = \"loading_content_div\">\n                <Loader/>\n                <span>loading...</span>\n            </div>    \n        </div>\n    )\n\n    return(\n        <>\n        {props.isDataLoading ? data_loading :interpretation_body}\n        </>\n    )  \n}\n\nconst mapStateToProps = (state) => ({\n    isDataLoading: state.LoaderReducer.isDataLoading,\n    interpretationData: state.InterpretationDataReducer.interpretationData,\n})\n  \nconst mapDispatchToProps = {\n    getInterpretationData: actions.GetInterpretationData,\n    sendInterpretationData : actions.SendInterpretationData,\n    sendImageQulityData : actions.SendImageQulityData,\n}\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(Interpretation)\n"]},"metadata":{},"sourceType":"module"}